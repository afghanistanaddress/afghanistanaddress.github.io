<!DOCTYPE html>
<html lang="zh-CN">

<head>
        <link rel="canonical" href="https://afghanistanaddress.github.io/html/category/article-1797.htm" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Vue+Django前后端实例1 - Afghanistan Address</title>
        <link rel="icon" href="/assets/addons/xcblog/img/afghanistanaddress/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="/assets/addons/xcblog/js/frontend/afghanistanaddress/animate/animate.css">
    <link rel="stylesheet" href="/assets/addons/xcblog/css/afghanistanaddress/bootstrap.css">
    <link rel="stylesheet" href="/assets/addons/xcblog/css/afghanistanaddress/maicons.css">
    <link rel="stylesheet" href="/assets/addons/xcblog/js/frontend/afghanistanaddress/owl-carousel/css/owl.carousel.css">
    <link rel="stylesheet" href="/assets/addons/xcblog/css/afghanistanaddress/theme.css">
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?07d6804a416dbd216ab0e3d3e283ddad";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body>
    <!-- Back to top button -->
    <div class="back-to-top"></div>
    <header>
                <nav class="navbar navbar-expand-lg navbar-light navbar-float">
            <div class="container">
                                <a href="/" class="navbar-brand">Afghanistan Address</a>
                                <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse" id="navbarContent">
                    <ul class="navbar-nav ml-lg-4 pt-3 pt-lg-0">
                                                <li class="nav-item">
                            <a href="/" class="nav-link">首页</a>
                        </li>
                                                <li class="nav-item">
                            <a href="/html/category/" class="nav-link">文章分类</a>
                        </li>
                                                <li class="nav-item">
                            <a href="#" class="nav-link">关于</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">联系</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container mt-5">
            <div class="page-banner">
                <div class="row justify-content-center align-items-center h-100">
                    <div class="col-md-10">
                        <h1 class="text-center">Vue+Django前后端实例1</h1>
                        <nav aria-label="Breadcrumb">
                            <ul class="breadcrumb justify-content-center py-0 bg-transparent">
                                <li class="breadcrumb-item"><a href="/">首页</a></li>
                                <li class="breadcrumb-item"><a href="/html/category/">文章分类</a></li>
                                <li class="breadcrumb-item active">正文</li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main>
        <div class="page-section">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                          				  				  				<div id="content_views" class="htmledit_views"> <p><strong>后端：</strong></p> <p>python manage.py startapp block 创建APP，并在settings的INSATLLED_APP中添加'block'。</p> <p>block目录下创建models.py</p> <pre><code class="language-python">from django.db import models  # Create your models here. # models.py  class Blog(models.Model):     title = models.CharField(max_length=50)     content = models.CharField(max_length=500)      # 自定义表名     class Meta:         db_table = "t_blog"</code></pre> <p>与数据库连接</p> <p>python manage.py makemigrations</p> <p>python manage.py migeate</p> <p>终端打开python manage.py shell</p> <p>手动添加数据</p> <p>from block.models import Blog</p> <p>Blog.objects.create("title="b1", content="b1 content")</p> <p>Blog.objects.create("title="b1", content="b1 content")</p> <p>查询目前添加的数据 Blog.objects.all()</p> <p>退出exit()</p> <p>使用rest_framework, pip install djangorestframework安装包</p> <p>settings的INSATLLED_APP中添加'rest_framework'</p> <p>block目录下创建serializers.py</p> <pre><code class="language-python">#serializers.py from rest_framework import serializers from .models import Blog   class BlogSerializer(serializers.HyperlinkedModelSerializer):     class Meta:         model = Blog  # 序列化的对象名         fields = '__all__'  # 序列化的字段名，或者指定字段 fields = ("id","name","age")</code></pre> <p>block目录下创建views.py</p> <pre><code class="language-python">#views.py from rest_framework import viewsets from .models import Blog from .serializers import BlogSerializer   class BlogViewSet(viewsets.ModelViewSet):     queryset = Blog.objects.all()     serializer_class = BlogSerializer</code></pre> <p>配置路由</p> <p>crude目录下urls.py文件</p> <pre><code class="language-python">#urls.py from django.contrib import admin from django.urls import path, include from rest_framework import routers from block.views import BlogViewSet  router = routers.DefaultRouter() router.register('blog', BlogViewSet)  urlpatterns = [     path('admin/', admin.site.urls),     path('', include(router.urls)) ]</code></pre> <p>解决跨域问题</p> <p>pip install django-cors-headers</p> <p>在settings.py中做如下修改</p> <pre><code class="language-python">INSTALLED_APPS = [     'django.contrib.admin',     'django.contrib.auth',     'django.contrib.contenttypes',     'django.contrib.sessions',     'django.contrib.messages',     'django.contrib.staticfiles',     'rest_framework',     'corsheaders',     'block', ]</code></pre> <pre><code class="language-python">MIDDLEWARE = [     'django.middleware.security.SecurityMiddleware',     'django.contrib.sessions.middleware.SessionMiddleware',     'corsheaders.middleware.CorsMiddleware',     'django.middleware.common.CommonMiddleware',     'django.middleware.csrf.CsrfViewMiddleware',     'django.contrib.auth.middleware.AuthenticationMiddleware',     'django.contrib.messages.middleware.MessageMiddleware',     'django.middleware.clickjacking.XFrameOptionsMiddleware', ]</code></pre> <pre><code>CORS_ORIGIN_ALLOW_ALL = True CORS_ALLOW_CREDENTIALS = True</code></pre> <p>最后文件构成为</p> <p><img fetchpriority="high" decoding="async" alt="" height="318" src="http://img.555519.xyz/uploads3/20220707/2e392f41cd539532d6230bf07bb57b09.jpg"></p> <p><strong>前端</strong></p> <p>vue init webpack crude创建vue项目</p> <p>index.html</p> <pre><code class="language-html">&lt;!DOCTYPE html&gt; &lt;html&gt;   &lt;head&gt;     &lt;meta charset="utf-8"&gt;     &lt;meta name="viewport" content="width=device-width,initial-scale=1.0"&gt;     &lt;link  href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"&gt;     &lt;link  href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css"&gt;     &lt;title&gt;crude&lt;/title&gt;   &lt;/head&gt;   &lt;body&gt;     &lt;div class="container"&gt;       &lt;nav class="navbar" navbar-dark bg-success&gt;         &lt;a class="navbar-brand"&gt;博客系统&lt;/a&gt;         &lt;form class="form-inline"&gt;           &lt;input class="form-control" mr-sm-2 type="search" placeholder="Search" aria-label="Search"&gt;           &lt;button class="btn btn-outline-success my-2 my-sm-0" type="submit"&gt;Search&lt;/button&gt;         &lt;/form&gt;       &lt;/nav&gt;       &lt;div id="app"&gt;&lt;/div&gt;     &lt;/div&gt;     &lt;script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"&gt;&lt;/script&gt;     &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"&gt;&lt;/script&gt;     &lt;script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"&gt;&lt;/script&gt;   &lt;/body&gt; &lt;/html&gt;</code></pre> <p>APP.vue</p> <pre><code>&lt;template&gt;   &lt;div id="app"&gt;     &lt;router-view/&gt;   &lt;/div&gt; &lt;/template&gt;  &lt;script&gt; export default {   name: 'App', } &lt;/script&gt;  &lt;style&gt; #app {   font-family: 'Avenir', Helvetica, Arial, sans-serif;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale;   text-align: center;   color: #2c3e50;   margin-top: 60px; } &lt;/style&gt;</code></pre> <p>src/components/Container.vue</p> <pre><code>&lt;template&gt;   &lt;div class="row"&gt;     &lt;!--左右两屏--&gt;     &lt;div class="col-md-4"&gt;       &lt;!--左边是编辑部分--&gt;       &lt;div class="form-group"&gt;         &lt;input type="hidden" v-model="url"&gt;       &lt;/div&gt;       &lt;div class="form-group"&gt;         &lt;input type="text" v-model="title"  class="form-control" placeholder="标题"&gt;        &lt;/div&gt;       &lt;div class="form-group"&gt;         &lt;textarea class="form-control" v-model="content" placeholder="内容"&gt;&lt;/textarea&gt;       &lt;/div&gt;       &lt;div class="form-group"&gt;         &lt;button class="btn btn-block btn-success" @click="saveBlog()"&gt;保存&lt;/button&gt;       &lt;/div&gt;       &lt;div class="form-group"&gt;                &lt;/div&gt;     &lt;/div&gt;      &lt;div class="col-md-8"&gt;       &lt;!--右边是博客内容表格部分--&gt;       &lt;table class="table table-bordered table-hover"&gt;         &lt;thead&gt;           &lt;th class="text-center"&gt;标题&lt;/th&gt;           &lt;th class="text-center"&gt;内容&lt;/th&gt;           &lt;th class="text-center"&gt;编辑&lt;/th&gt;           &lt;th class="text-center"&gt;删除&lt;/th&gt;         &lt;/thead&gt;         &lt;tbody&gt;           &lt;tr v-for="blog in blogs" :key="blog.url"&gt;             &lt;td&gt;{<!-- -->{blog.title}}&lt;/td&gt;             &lt;td&gt;{<!-- -->{blog.content}}&lt;/td&gt;             &lt;td&gt;               &lt;button class="btn btn-success"  @click="editBlog(blog)"&gt;                 &lt;i class="fa fa-edit"&gt;&lt;/i&gt;               &lt;/button&gt;             &lt;/td&gt;             &lt;td&gt;               &lt;button class="btn btn-success"  @click="deleteBlog(blog)"&gt;                 &lt;i class="fa fa-trash"&gt;&lt;/i&gt;               &lt;/button&gt;             &lt;/td&gt;           &lt;/tr&gt;         &lt;/tbody&gt;       &lt;/table&gt;     &lt;/div&gt;   &lt;/div&gt; &lt;/template&gt;   &lt;script&gt; //添加axios.http请求组件 import axios from 'axios' export default {   name: 'Container',   props:{    },   data(){     return{       base_url:"http://127.0.0.1:8000/api/blog/",       blogs:null,       url:"",       title:"",       content:"",     }   },   methods:{     getAll(){         axios.get(this.base_url)         .then(res=&gt;{             this.blogs = res.data;  //获取列表数据             this.url="";             this.title="";             this.content="";         });      },     saveBlog(){         //新增         if(this.url==""){             axios.post(this.base_url,{title:this.title, content:this.content})             .then(()=&gt;{                 this.getAll();             })         }         //修改         else{             axios.put(this.url,{title:this.title, content:this.content})             .then(()=&gt;{                 this.getAll();             })         }     },     editBlog(blog){         this.url= blog.url;         this.title=blog.title;         this.content=blog.content;     },     deleteBlog(blog){         axios.delete(blog.url)         .then(()=&gt;{             this.getAll();         });     },   },   mounted(){       this.getAll();   } } &lt;/script&gt;  &lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt; &lt;style scoped&gt;  &lt;/style&gt;</code></pre> <p>router/index.js</p> <pre><code>import Vue from 'vue' import Router from 'vue-router' import Container from '@/components/Container'  Vue.use(Router)  export default new Router({   routes: [     {       path: '/',       name: 'Container',       component: Container     }   ] })</code></pre> </div> 			                        <div class="col-md-12 mt-5">
                                                        <p>上一个：<a href="/html/category/article-1796.htm">springBoot的转发和重定向</a></p>
                                                        <p>下一个：<a href="/html/category/article-1798.htm">Vue &#8211; 缓存页面（keepAlive）</a></p>
                                                    </div>
                                            </div>
                    <div class="col-md-3">
                        <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/html/category/article-6672.htm" title="收猫长期回收各种宠物猫 广州收猫长期回收各种宠物猫">收猫长期回收各种宠物猫 广州收猫长期回收各种宠物猫</a></li>
                        <li class="py-2"><a href="/html/category/article-4335.htm" title="宠物领养须知内容（宠物领养是什么意思,免费的嘛）">宠物领养须知内容（宠物领养是什么意思,免费的嘛）</a></li>
                        <li class="py-2"><a href="/html/category/article-6857.htm" title="上海宠物领养中心地址电话号码查询（上海的宠物领养中心）">上海宠物领养中心地址电话号码查询（上海的宠物领养中心）</a></li>
                        <li class="py-2"><a href="/html/category/article-6116.htm" title="被猫挠出血了过24小时了（被猫挠出血了过24小时了没打针）">被猫挠出血了过24小时了（被猫挠出血了过24小时了没打针）</a></li>
                        <li class="py-2"><a href="/html/category/article-4598.htm" title="天使艾美丽电视剧全集爱奇艺（真没想到）《天使艾美丽》，四个女仔三个bar 电视剧，天使艾美丽电视剧，">天使艾美丽电视剧全集爱奇艺（真没想到）《天使艾美丽》，四个女仔三个bar 电视剧，天使艾美丽电视剧，</a></li>
                        <li class="py-2"><a href="/html/category/article-6949.htm" title="北京宠物鸟医院（北京哪家宠物医院能看鸟）">北京宠物鸟医院（北京哪家宠物医院能看鸟）</a></li>
                        <li class="py-2"><a href="/html/category/article-6580.htm" title="宠物批发微信一手货源（宠物批发平台）">宠物批发微信一手货源（宠物批发平台）</a></li>
                        <li class="py-2"><a href="/html/category/article-6205.htm" title="宠物粮食创业项目名称大全 宠物粮食创业项目名称大全集">宠物粮食创业项目名称大全 宠物粮食创业项目名称大全集</a></li>
                        <li class="py-2"><a href="/html/category/article-4455.htm" title="我们城市有个动物园英语作文（我们城市有一个大动物园翻译）">我们城市有个动物园英语作文（我们城市有一个大动物园翻译）</a></li>
                        <li class="py-2"><a href="/html/category/article-6010.htm" title="阿城区王允海动物医院电话是多少号（王允海动物医院道里店怎么样）">阿城区王允海动物医院电话是多少号（王允海动物医院道里店怎么样）</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-06/" title="2024-06 归档">2024-06</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-05/" title="2024-05 归档">2024-05</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-04/" title="2024-04 归档">2024-04</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-03/" title="2024-03 归档">2024-03</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">50</span> <a href="/html/date/2024-02/" title="2024-02 归档">2024-02</a></h4>
            </li>
                    </ul>
    </div>
</div>



                    </div>
                </div>
            </div> <!-- .container -->
        </div> <!-- .page-section -->
    </main>
        <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 py-2">
                    <p id="copyright">
                        Afghanistan Address 版权所有 Powered by WordPress
                    </p>
                </div>
                <div class="col-sm-6 py-2 text-right">
                    <div class="d-inline-block px-3">
                        <a href="#">Privacy</a>
                    </div>
                    <div class="d-inline-block px-3">
                        <a href="#">Contact Us</a>
                    </div>
                </div>
            </div>
        </div> <!-- .container -->
    </footer> <!-- .page-footer -->
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/jquery-3.5.1.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/bootstrap.bundle.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/wow/wow.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/owl-carousel/js/owl.carousel.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/waypoints/jquery.waypoints.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/animateNumber/jquery.animateNumber.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/google-maps.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/afghanistanaddress/theme.js"></script>
    <script>
    $(function() {
        $('.js_to').click(function(){
            var url = $(this).data('url');
            var code = $(this).data('code');
            url += code;

            window.open(url);
        })
    });
    </script>
</body>

</html>